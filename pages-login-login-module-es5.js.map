{"version":3,"sources":["webpack:///src/app/pages/login/login.page.html","webpack:///src/app/pages/login/login-routing.module.ts","webpack:///src/app/pages/login/login.module.ts","webpack:///src/app/pages/login/login.page.scss","webpack:///src/app/pages/login/login.page.ts"],"names":["routes","path","component","LoginPageRoutingModule","imports","forChild","exports","LoginPageModule","declarations","LoginPage","_usuarioService","_router","alertController","compruebaSiLogado","logado","navigate","console","log","datos","nombre","usuario","pwd","login","respuesta","status","usuarioActual","sexo","create","cssClass","backdropDismiss","subHeader","buttons","alert","present","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,sBAAsB;AAAA;AAAA,O;;AAAtBA,4BAAsB,6DAJlC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIkC,GAAtBH,sBAAsB,CAAtB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,eAAe;AAAA;AAAA,O;;AAAfA,qBAAe,6DAT3B,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,4EAJO,CADD;AAORI,oBAAY,EAAE,CAAC,qDAAD;AAPN,OAAT,CAS2B,GAAfD,eAAe,CAAf;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCYFE,SAAS;AAEpB,2BACUC,eADV,EAEUC,OAFV,EAGUC,eAHV,EAG0C;AAAA;;AAFhC,eAAAF,eAAA,GAAAA,eAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,eAAA,GAAAA,eAAA;AACH;;AANa;AAAA;AAAA,qCAWH;;;;;;;;AACA,6BAAM,KAAKF,eAAL,CAAqBG,iBAArB,EAAN;;;AAATC,4B;;AACN,0BAAGA,MAAH,EAAU;AACR,6BAAKH,OAAL,CAAaI,QAAb,CAAsB,CAAC,SAAD,CAAtB;AAED,uBAHD,MAII;AACFC,+BAAO,CAACC,GAAR,CAAY,oBAAZ;AACD;;;;;;;;;AACF;AApBmB;AAAA;AAAA,kCAsBP;;;;;;;AACHC,2B,GAAQ;AACZC,8BAAM,EAAE,KAAKC,OADD;AAEZC,2BAAG,EAAE,KAAKA;AAFE,uB;;AAKkB,6BAAM,KAAKX,eAAL,CAAqBY,KAArB,CAA2BJ,KAA3B,CAAN;;;AAA1BK,+B;;4BACHA,SAAS,CAACC,MAAV,IAAkB,I;;;;;AACnB,2BAAKd,eAAL,CAAqBe,aAArB,GAAqCP,KAArC;;AACA,0BAAGK,SAAS,CAACH,OAAV,CAAkBM,IAArB,EAA0B;AACxB,6BAAKf,OAAL,CAAaI,QAAb,CAAsB,CAAC,SAAD,CAAtB;AACD,uBAFD,MAGI;AACF,6BAAKJ,OAAL,CAAaI,QAAb,CAAsB,CAAC,qBAAD,CAAtB;AACD;;;;;;;AAIa,6BAAM,KAAKH,eAAL,CAAqBe,MAArB,CAA4B;AAC9CC,gCAAQ,EAAE,iBADoC;AAE9CC,uCAAe,EAAE,KAF6B;AAG9CC,iCAAS,EAAE,kCAHmC;AAI9CC,+BAAO,EAAE,CAAC,IAAD;AAJqC,uBAA5B,CAAN;;;AAARC,2B;;AAMN,6BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;;AAGH;AAjDiB;;AAAA;AAAA,S;;;;gBAXb;;gBAGA;;gBACA;;;;AAOIxB,eAAS,6DALrB,gEAAU;AACTyB,gBAAQ,EAAE,WADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,kGAFS;;;;AAAA,OAAV,CAKqB,GAAT1B,SAAS,CAAT","file":"pages-login-login-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar class=\\\"cabecera\\\">\\r\\n    <ion-title>Login</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button [defaultHref]=\\\"'/'\\\" [mode]=\\\"'md'\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"ilustration-login\\\">\\r\\n    <img src=\\\"../../../assets/login.jpg\\\" alt=\\\"\\\">\\r\\n  </div>\\r\\n  <form class=\\\"content-form\\\">\\r\\n    <ion-item class=\\\"usuario\\\">\\r\\n      <ion-icon class=\\\"uss\\\" name=\\\"person\\\" style=\\\"margin-right: 15px;\\\"></ion-icon>\\r\\n      <ion-input [(ngModel)]=\\\"usuario\\\" name=\\\"usuario\\\" type=\\\"text\\\" placeholder=\\\"*Usuario\\\" autofocus required></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item class=\\\"contraseña\\\">\\r\\n      <ion-icon class=\\\"pass\\\" name=\\\"lock-closed\\\" style=\\\"margin-right: 15px;\\\"></ion-icon>\\r\\n      <ion-input [(ngModel)]=\\\"pwd\\\" name=\\\"pwd\\\" type=\\\"password\\\" placeholder=\\\"*Contraseña\\\" required></ion-input>\\r\\n    </ion-item>\\r\\n    <div class=\\\"login-button\\\">\\r\\n      <ion-button class=\\\"log-button\\\" (click)=\\\"login()\\\" disabled=\\\"{{!this.usuario || !this.pwd }}\\\" style=\\\"margin-top: 10px;\\\" expand=\\\"block\\\"  color=\\\"primary\\\">Login</ion-button>\\r\\n    </div>\\r\\n  </form>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n   \\r\\n\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { LoginPage } from './login.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LoginPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LoginPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { LoginPageRoutingModule } from './login-routing.module';\n\nimport { LoginPage } from './login.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    LoginPageRoutingModule\n  ],\n  declarations: [LoginPage]\n})\nexport class LoginPageModule {}\n","export default \"@charset \\\"UTF-8\\\";\\n.content-form {\\n  margin-top: 39px;\\n  width: 347px;\\n  margin-left: 5px;\\n}\\n.cabecera {\\n  margin-top: 35px;\\n}\\n.ilustration-login {\\n  margin-top: 11px;\\n  width: 125%;\\n  position: relative;\\n  right: 12%;\\n}\\n.login-button {\\n  --ion-color-primary-shade: #3171e0;\\n  display: inline-block;\\n  margin-left: 120px;\\n}\\n.log-button {\\n  border-radius: 60px 20px 20px;\\n  font-weight: bold;\\n  width: 111px;\\n}\\n.usuario, .contraseña {\\n  border: 1px solid #3171e0;\\n  border-radius: 30px;\\n  height: 43px;\\n  width: 291px;\\n  font-size: 15px;\\n  margin-left: 30px;\\n  margin-bottom: 10px;\\n}\\n.uss, .pass {\\n  font-size: 19px;\\n}\\n.footer-login {\\n  margin-top: 56px;\\n  margin-left: 22px;\\n}\\n.olvidarContrasena {\\n  margin-left: 110px;\\n}\\n.olvidarUsuario, .olvidarContrasena {\\n  font-size: 10px;\\n  color: #555555;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbG9naW4vbG9naW4ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLGdCQUFnQjtBQUFoQjtFQUNJLGdCQUFBO0VBQ0EsWUFBQTtFQUNBLGdCQUFBO0FBRUo7QUFBQTtFQUNJLGdCQUFBO0FBR0o7QUFEQTtFQUNJLGdCQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtBQUlKO0FBRkE7RUFDSSxrQ0FBQTtFQUNBLHFCQUFBO0VBQ0Esa0JBQUE7QUFLSjtBQUhBO0VBQ0ksNkJBQUE7RUFDQSxpQkFBQTtFQUNBLFlBQUE7QUFNSjtBQUpBO0VBQ0kseUJBQUE7RUFDQSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0VBQ0EsbUJBQUE7QUFPSjtBQUxBO0VBQ0ksZUFBQTtBQVFKO0FBTkE7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0FBU0o7QUFQQTtFQUNJLGtCQUFBO0FBVUo7QUFSQTtFQUNJLGVBQUE7RUFDQSxjQUFBO0FBV0oiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9sb2dpbi9sb2dpbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJAY2hhcnNldCBcIlVURi04XCI7XG4uY29udGVudC1mb3JtIHtcbiAgbWFyZ2luLXRvcDogMzlweDtcbiAgd2lkdGg6IDM0N3B4O1xuICBtYXJnaW4tbGVmdDogNXB4O1xufVxuXG4uY2FiZWNlcmEge1xuICBtYXJnaW4tdG9wOiAzNXB4O1xufVxuXG4uaWx1c3RyYXRpb24tbG9naW4ge1xuICBtYXJnaW4tdG9wOiAxMXB4O1xuICB3aWR0aDogMTI1JTtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICByaWdodDogMTIlO1xufVxuXG4ubG9naW4tYnV0dG9uIHtcbiAgLS1pb24tY29sb3ItcHJpbWFyeS1zaGFkZTogIzMxNzFlMDtcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICBtYXJnaW4tbGVmdDogMTIwcHg7XG59XG5cbi5sb2ctYnV0dG9uIHtcbiAgYm9yZGVyLXJhZGl1czogNjBweCAyMHB4IDIwcHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xuICB3aWR0aDogMTExcHg7XG59XG5cbi51c3VhcmlvLCAuY29udHJhc2XDsWEge1xuICBib3JkZXI6IDFweCBzb2xpZCAjMzE3MWUwO1xuICBib3JkZXItcmFkaXVzOiAzMHB4O1xuICBoZWlnaHQ6IDQzcHg7XG4gIHdpZHRoOiAyOTFweDtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBtYXJnaW4tbGVmdDogMzBweDtcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcbn1cblxuLnVzcywgLnBhc3Mge1xuICBmb250LXNpemU6IDE5cHg7XG59XG5cbi5mb290ZXItbG9naW4ge1xuICBtYXJnaW4tdG9wOiA1NnB4O1xuICBtYXJnaW4tbGVmdDogMjJweDtcbn1cblxuLm9sdmlkYXJDb250cmFzZW5hIHtcbiAgbWFyZ2luLWxlZnQ6IDExMHB4O1xufVxuXG4ub2x2aWRhclVzdWFyaW8sIC5vbHZpZGFyQ29udHJhc2VuYSB7XG4gIGZvbnQtc2l6ZTogMTBweDtcbiAgY29sb3I6ICM1NTU1NTU7XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { UsuarioService } from '../../services/usuario.service';\r\nimport { RespuestaPost } from '../../interfaces/RespuestaPost';\r\nimport { async } from '@angular/core/testing';\r\nimport { Router } from '@angular/router';\r\nimport { AlertController} from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  constructor(\r\n    private _usuarioService:UsuarioService, \r\n    private _router:Router,\r\n    private alertController: AlertController\r\n    ) { }\r\n\r\n  public usuario:string;\r\n  public pwd:string;\r\n\r\n  async ngOnInit() {\r\n    const logado = await this._usuarioService.compruebaSiLogado();\r\n    if(logado){\r\n      this._router.navigate(['/perfil']);\r\n\r\n    }\r\n    else{\r\n      console.log('No estamos logados');\r\n    }\r\n  }\r\n\r\n    async login(){\r\n      const datos = {\r\n        nombre: this.usuario,\r\n        pwd: this.pwd\r\n      }\r\n      \r\n      const respuesta:RespuestaPost = await this._usuarioService.login(datos);\r\n      if(respuesta.status=='ok'){\r\n        this._usuarioService.usuarioActual = datos;\r\n        if(respuesta.usuario.sexo){\r\n          this._router.navigate(['/perfil']);\r\n        }\r\n        else{\r\n          this._router.navigate(['/principal-libreria']);\r\n        }\r\n        \r\n      }\r\n      else{\r\n        const alert = await this.alertController.create({\r\n          cssClass: 'my-custom-class',\r\n          backdropDismiss: false,\r\n          subHeader: 'No existe el usuario. Regístrate',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n      }\r\n        \r\n    }\r\n  // olvidarUsuario(){\r\n\r\n  // }\r\n  // olvidarContrasena(){\r\n\r\n  // }\r\n}\r\n\r\n\r\n\r\n\r\n"]}