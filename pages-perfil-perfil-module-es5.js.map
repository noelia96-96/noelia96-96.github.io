{"version":3,"sources":["webpack:///src/app/pages/perfil/perfil.page.html","webpack:///src/app/pages/perfil/perfil-routing.module.ts","webpack:///src/app/pages/perfil/perfil.module.ts","webpack:///src/app/pages/perfil/perfil.page.scss","webpack:///src/app/pages/perfil/perfil.page.ts"],"names":["routes","path","component","PerfilPageRoutingModule","imports","forChild","exports","PerfilPageModule","declarations","PerfilPage","router","_usuarioService","_eventoService","_libroService","alertController","socialSharing","booleanEventos","booleanLibros","booleanLibrerias","booleanFavoritos","limiteUsuariosLibreros","limitePropio","limiteLibrosPropio","limiteFavoritos","compruebaSiLogado","logado","usuarioActual","navigate","librerias","usuario","nombre","event","getEventos","eventosPropios","mostrarLibreria","usuariosLibreros","usuarioLibreria","mostrarLibros","librosPropios","mostrarLibreriasFavoritas","target","complete","cerrarSesion","navigateByUrl","getEventosPorBibliofilo","libreria","favoritos","push","guadarLibreriaFav","indice","indexOf","splice","borrarLibreriaFav","evento","index","participantes","findIndex","create","cssClass","backdropDismiss","subHeader","buttons","alert","present","length","datos","_id","apuntarse","desapuntarse","options","message","web","shareWithOptions","libro","nombreLibro","reservarLibro","quitarReservaLibro","libreriaPinchadaCard","selector","template"],"mappings":"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","file":"pages-perfil-perfil-module-es5.js","sourcesContent":["export default \"  <ion-toolbar class=\\\"toolbar-color\\\">\\r\\n    <ion-avatar [routerLink]=\\\"'/perfil-bibliofilo'\\\" class=\\\"avatar-profile\\\">\\r\\n      <img src=\\\"../../../assets/profile-w.png\\\">\\r\\n    </ion-avatar>\\r\\n  </ion-toolbar>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"ion-padding\\\">\\r\\n    <ion-toolbar>\\r\\n      <ion-segment>\\r\\n        <ion-segment-button (click)=\\\"librerias()\\\" value=\\\"a\\\">Librer√≠as</ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"libros()\\\" value=\\\"b\\\">Libros</ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"eventos()\\\" value=\\\"c\\\">Eventos</ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"fav()\\\" value=\\\"d\\\">Favoritos</ion-segment-button>\\r\\n      </ion-segment>\\r\\n    </ion-toolbar>\\r\\n\\r\\n  <!-- Librerias -->\\r\\n    <ion-card *ngFor=\\\"let usuario of usuariosLibreros\\\">\\r\\n      <div class=\\\"imagen\\\">\\r\\n      <img class=\\\"imagenCard\\\" (click)=\\\"verLibreria(usuario)\\\" src=\\\"../../../assets/libreria.jpg\\\">\\r\\n    </div>\\r\\n      <ion-card-header color=\\\"light\\\" style=\\\"height: 45px;\\\">\\r\\n        <ion-card-title class=\\\"cardStyle\\\"><h4>{{usuario.nombre}}</h4></ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content style=\\\"margin-top: 12px;\\\">\\r\\n        <b>Direcci√≥n: </b>{{usuario.direccion}}<br>\\r\\n      </ion-card-content>\\r\\n      <ion-item color=\\\"light\\\">\\r\\n        <ion-button class=\\\"share\\\" (click)=\\\"compartirLibreria(usuario)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n          <ion-icon name=\\\"share\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button *ngIf=\\\"usuarioActual.favoritos.includes(usuario.nombre)\\\" class=\\\"fav\\\" (click)=\\\"borrarFavorito(usuario.nombre)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n         <ion-icon name=\\\"heart-sharp\\\" color=\\\"danger\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button *ngIf=\\\"!usuarioActual.favoritos.includes(usuario.nombre)\\\" class=\\\"fav\\\" (click)=\\\"guardarFavorito(usuario.nombre)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n         <ion-icon name=\\\"heart-outline\\\" color=\\\"danger\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n    </ion-card> \\r\\n\\r\\n    <!-- Libros -->\\r\\n    <ion-card *ngFor=\\\"let libro of librosPropios\\\">\\r\\n      <div class=\\\"imagen\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"libro.imagenLibro\\\"src=\\\"{{libro.imagenLibro}}\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"!libro.imagenLibro\\\" src=\\\"../../../assets/registro-bibliofilo.jpg\\\">\\r\\n    </div>\\r\\n      <ion-card-header color=\\\"light\\\" style=\\\"height: 45px;\\\">\\r\\n        <ion-card-title class=\\\"cardStyle\\\"><h4>{{libro.nombreLibro}}</h4></ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content style=\\\"margin-top: 12px;\\\">\\r\\n        <b>G√©nero: </b>{{libro.genero}}<br>\\r\\n        <b>Autor: </b>{{libro.autor}}<br>\\r\\n        <b>Precio: </b>{{libro.precio}}\\r\\n      </ion-card-content>\\r\\n      <ion-item color=\\\"light\\\">\\r\\n        <ion-button *ngIf=\\\"!libro.participantes.includes(this.usuario)\\\" class=\\\"fav\\\" (click)=\\\"reservarLibro(libro)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n         <ion-icon name=\\\"bag-outline\\\" color=\\\"dark\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button *ngIf=\\\"libro.participantes.includes(this.usuario)\\\" class=\\\"fav\\\" (click)=\\\"quitarReservaLibro(libro)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n        <ion-icon name=\\\"bag-check-outline\\\" color=\\\"dark\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n    </ion-card>\\r\\n\\r\\n    <!-- Eventos -->\\r\\n    <ion-card *ngFor=\\\"let evento of eventosPropios\\\">\\r\\n      <div class=\\\"imagen\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"evento.imagenEvento\\\" src=\\\"{{evento.imagenEvento}}\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"!evento.imagenEvento\\\" src=\\\"../../../assets/evento.jpg\\\">\\r\\n      </div>\\r\\n      <ion-card-header color=\\\"light\\\" style=\\\"height: 45px;\\\">\\r\\n        <ion-card-title class=\\\"cardStyle\\\"><h4>{{evento.nombreEvento}}</h4></ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content style=\\\"margin-top: 12px;\\\">\\r\\n        <b>Ciudad: </b>{{evento.ciudad}}<br>\\r\\n        <b>Direccion: </b>{{evento.direccion}}<br>\\r\\n        <b>Fecha: </b>{{evento.fecha | date: 'dd/MM/yyyy'}}<br>\\r\\n        <b>Hora: </b>{{evento.hora | date: 'HH:mm'}}\\r\\n      </ion-card-content>\\r\\n        <ion-item color=\\\"light\\\">\\r\\n        <ion-button class=\\\"apuntarse\\\" *ngIf=\\\"!evento.participantes.includes(this.usuario)\\\" (click)=\\\"apuntarse(evento)\\\" fill=\\\"outline\\\" slot=\\\"end\\\" expand=\\\"block\\\" [mode]=\\\"'md'\\\">Apuntarse</ion-button>\\r\\n        <ion-button class=\\\"desapuntarse\\\" *ngIf=\\\"evento.participantes.includes(this.usuario)\\\" (click)=\\\"desapuntarse(evento)\\\" fill=\\\"outline\\\" slot=\\\"end\\\" expand=\\\"block\\\" [mode]=\\\"'md'\\\" color=\\\"dark\\\" >Borrarse</ion-button>\\r\\n      </ion-item>\\r\\n    </ion-card>\\r\\n  </div>\\r\\n  <ion-infinite-scroll threshold=\\\"200px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content\\r\\n      loadingSpinner=\\\"circular\\\"\\r\\n      loadingText=\\\"Cargando...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PerfilPage } from './perfil.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PerfilPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PerfilPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { PerfilPageRoutingModule } from './perfil-routing.module';\nimport { PerfilPage } from './perfil.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PerfilPageRoutingModule\n  ],\n  declarations: [PerfilPage]\n})\nexport class PerfilPageModule {}\n","export default \".avatar-profile {\\n  position: relative;\\n  left: 295px;\\n  margin-top: 53px;\\n  border: 1px solid #b6dcf3;\\n  width: 60px;\\n  height: 60px;\\n  background-color: #b6dcf3;\\n}\\n\\n.fav, .share {\\n  font-size: 17px;\\n}\\n\\n.fav {\\n  position: absolute;\\n  right: 16px;\\n}\\n\\n.share {\\n  position: absolute;\\n  left: 0;\\n}\\n\\n.cardStyle {\\n  text-align: center;\\n  font-size: 17px;\\n  height: 45px;\\n  margin-top: -22px;\\n}\\n\\n.apuntarse, .desapuntarse {\\n  font-size: 10px;\\n  padding-top: 2.5px;\\n}\\n\\n.imagen {\\n  width: 311px;\\n  height: 205px;\\n}\\n\\n.imagenCard {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVyZmlsL3BlcmZpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxnQkFBQTtFQUNBLHlCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx5QkFBQTtBQUNKOztBQUNBO0VBQ0ksZUFBQTtBQUVKOztBQUFBO0VBQ0ksa0JBQUE7RUFDQSxXQUFBO0FBR0o7O0FBREE7RUFDSSxrQkFBQTtFQUNBLE9BQUE7QUFJSjs7QUFGQTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFlBQUE7RUFDQSxpQkFBQTtBQUtKOztBQUZBO0VBQ0ksZUFBQTtFQUNBLGtCQUFBO0FBS0o7O0FBSEE7RUFDSSxZQUFBO0VBQ0EsYUFBQTtBQU1KOztBQUpBO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFPSiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BlcmZpbC9wZXJmaWwucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLmF2YXRhci1wcm9maWxlIHtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIGxlZnQ6IDI5NXB4O1xyXG4gICAgbWFyZ2luLXRvcDogNTNweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNiNmRjZjM7XHJcbiAgICB3aWR0aDogNjBweDtcclxuICAgIGhlaWdodDogNjBweDtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNiNmRjZjM7XHJcbn1cclxuLmZhdiwgLnNoYXJlIHtcclxuICAgIGZvbnQtc2l6ZTogMTdweDtcclxufVxyXG4uZmF2e1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgcmlnaHQ6IDE2cHg7XHJcbn1cclxuLnNoYXJle1xyXG4gICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgbGVmdDogMDtcclxufVxyXG4uY2FyZFN0eWxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjsgXHJcbiAgICBmb250LXNpemU6IDE3cHg7IFxyXG4gICAgaGVpZ2h0OiA0NXB4OyBcclxuICAgIG1hcmdpbi10b3A6IC0yMnB4O1xyXG59XHJcblxyXG4uYXB1bnRhcnNlLCAuZGVzYXB1bnRhcnNle1xyXG4gICAgZm9udC1zaXplOiAxMHB4O1xyXG4gICAgcGFkZGluZy10b3A6IDIuNXB4O1xyXG59XHJcbi5pbWFnZW4ge1xyXG4gICAgd2lkdGg6IDMxMXB4O1xyXG4gICAgaGVpZ2h0OiAyMDVweDtcclxufVxyXG4uaW1hZ2VuQ2FyZCB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG5cclxuICAgICJdfQ== */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router} from '@angular/router';\r\nimport { Evento } from 'src/app/interfaces/evento';\r\nimport { Libro } from 'src/app/interfaces/libro';\r\nimport { usuarios } from 'src/app/interfaces/usuarios';\r\nimport { UsuarioService } from '../../services/usuario.service';\r\nimport { EventoService } from '../../services/evento.service';\r\nimport { LibroService } from '../../services/libro.service';\r\nimport { AlertController} from '@ionic/angular';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\n\r\n@Component({\r\n  selector: 'app-perfil',\r\n  templateUrl: './perfil.page.html',\r\n  styleUrls: ['./perfil.page.scss'],\r\n})\r\nexport class PerfilPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private _usuarioService:UsuarioService,\r\n    private _eventoService:EventoService,\r\n    private _libroService:LibroService,\r\n    private alertController: AlertController,\r\n    private socialSharing : SocialSharing,\r\n    \r\n    ) { }\r\n\r\n  public usuario:String;\r\n  public usuarioActual:any;\r\n  public _id:String;\r\n\r\n  //Para saber en que eventos estamos\r\n  booleanEventos : boolean = false;\r\n\r\n  //Para saber en que Libros estamos\r\n  booleanLibros : boolean = false;\r\n\r\n  //Para saber en que Librerias estamos\r\n  booleanLibrerias : boolean = false;\r\n\r\n  //Para saber en que Favoritos estamos\r\n  booleanFavoritos : boolean = false;\r\n\r\n  //lista de eventos propios\r\n  eventosPropios : Evento[]; \r\n\r\n  //lista de libros propios\r\n  librosPropios : Libro[]; \r\n\r\n  //lista de usuarios\r\n  usuariosLibreros : usuarios[]; \r\n\r\n  //limite de usuarios\r\n  limiteUsuariosLibreros : number = 3; \r\n\r\n  //lista de favoritos\r\n  favoritos : usuarios[]; \r\n\r\n  //limite de eventos propios\r\n  limitePropio : number = 3; \r\n\r\n  //limite de libros propios\r\n  limiteLibrosPropio : number = 3; \r\n\r\n  //limite de favoritos\r\n  limiteFavoritos : number = 3; \r\n\r\n  async ngOnInit() {\r\n    \r\n    const logado  = await this._usuarioService.compruebaSiLogado();\r\n    this.usuarioActual = this._usuarioService.usuarioActual;\r\n    if(!logado){\r\n      this.router.navigate(['/inicio']);\r\n      return;\r\n    }\r\n\r\n    //Para que se muestren las librerias al entrar en el perfil, que sea lo primero que se cargue\r\n    this.librerias();\r\n\r\n    //llamar al servicio de usuario\r\n    this.usuario = this._usuarioService.usuarioActual.nombre;\r\n   \r\n  }\r\n  //Infinitte scroll\r\n  async loadData(event){\r\n\r\n      //Tenemos una lista de todos los eventos cargados\r\n      //Tenemos una lista que va a ir cargando los eventos poco a poco - esta es la que se usa\r\n      if(this.booleanEventos){\r\n\r\n        //limite de eventos propios\r\n        this.limitePropio = this.limitePropio + 3;\r\n        //Cargar en la lista propia mis eventos\r\n        await this._eventoService.getEventos(this.limitePropio);\r\n        this.eventosPropios = this._eventoService.eventosPropios;\r\n\r\n      }else if(this.booleanLibrerias){\r\n\r\n        //limite de usuarios tipo - libreria\r\n        this.limiteUsuariosLibreros = this.limiteUsuariosLibreros + 3;\r\n\r\n        //llamar al servicio para llamar al back para recuperar los libros\r\n        await this._usuarioService.mostrarLibreria(this.limiteUsuariosLibreros);\r\n          \r\n        //Carga del servicio la lista de usuarios\r\n        this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n\r\n      }else if(this.booleanLibros){\r\n\r\n        //Limite de libros\r\n        this.limiteLibrosPropio = this.limiteLibrosPropio+3; \r\n\r\n        //Llamar al servicio para llamar al back para recuperar los libros\r\n        await this._libroService.mostrarLibros(this.limiteLibrosPropio);\r\n        \r\n        //Carga del servicio la lista de libros\r\n        this.librosPropios = this._libroService.librosPropios;\r\n\r\n      }else if(this.booleanFavoritos){\r\n\r\n        //Limite favoritos\r\n        this.limiteFavoritos = this.limiteFavoritos +3; \r\n\r\n        //Llamar al servicio para llamar al back para recuperar las librerias favoritas \r\n        await this._usuarioService.mostrarLibreriasFavoritas(this.limiteFavoritos);\r\n        \r\n        //Carga del servicio la lista de favoritos \r\n        this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n\r\n      }\r\n      //completar la accion de cargar los eventos\r\n      event.target.complete(); \r\n  }\r\n\r\n  cerrarSesion(){\r\n    this._usuarioService.cerrarSesion();\r\n    this.router.navigateByUrl('/inicio');\r\n  }\r\n\r\nasync librerias() {\r\n\r\n    //Poner a true el boolean de librerias para saber que estamos viendo librerias\r\n    this.booleanLibrerias=true;\r\n    this.booleanFavoritos=false;\r\n    this.booleanEventos=false;\r\n    this.booleanLibros=false;\r\n\r\n    //Quitar de la lista contraria los eventos\r\n    this.eventosPropios = []; \r\n\r\n    //Quitar de la lista contraria los libros\r\n    this.librosPropios = [];\r\n\r\n    //Limpiar la propia lista de librerias\r\n    this.usuariosLibreros = [];\r\n\r\n    //limite de usuarios tipo - libreria\r\n    this.limiteUsuariosLibreros = 3;\r\n\r\n    //llamar al servicio para llamar al back para recuperar los libros\r\n    await this._usuarioService.mostrarLibreria(this.limiteUsuariosLibreros);\r\n    \r\n    //Carga del servicio la lista de usuarios\r\n    this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n}\r\n\r\nasync eventos() {\r\n    //Poner a true el boolean de Eventos para saber que estamos viendo Eventos\r\n    this.booleanLibrerias=false;\r\n    this.booleanFavoritos=false;\r\n    this.booleanEventos=true;\r\n    this.booleanLibros=false;\r\n    //Quitar de la lista contraria las librerias\r\n    this.usuariosLibreros = []; \r\n\r\n    //Quitar de la lista contraria los libros\r\n    this.librosPropios = [];\r\n\r\n    //Limite de eventos propios\r\n    this.limitePropio = 3; \r\n    \r\n    //Llamar al servicio para llamar al back para recuperar los eventos\r\n    await this._eventoService.getEventosPorBibliofilo(this.limitePropio);\r\n    \r\n    //Carga del servicio la lista de los eventos\r\n    this.eventosPropios = this._eventoService.eventosPropios;\r\n}\r\n\r\nasync libros() {\r\n    //Poner a true el boolean de Libros para saber que estamos viendo Libros\r\n    this.booleanLibrerias=false;\r\n    this.booleanFavoritos=false;\r\n    this.booleanEventos=false;\r\n    this.booleanLibros=true;\r\n\r\n    //Quitar de la lista contraria los eventos\r\n    this.eventosPropios = []; \r\n\r\n    //Quitar de la lista contraria las librerias\r\n    this.usuariosLibreros = []; \r\n\r\n    //Limite de libros\r\n    this.limiteLibrosPropio = 3; \r\n\r\n    //Llamar al servicio para llamar al back para recuperar los libros\r\n    await this._libroService.mostrarLibros(this.limiteLibrosPropio);\r\n    \r\n    //Carga del servicio la lista de libros\r\n    this.librosPropios = this._libroService.librosPropios;\r\n\r\n}\r\n\r\n//Boton del menu - favoritos\r\nasync fav() {\r\n\r\n    //Poner a true el boolean de Favoritos para saber que estamos viendo Favoritos\r\n    this.booleanLibrerias=false;\r\n    this.booleanFavoritos=true;\r\n    this.booleanEventos=false;\r\n    this.booleanLibros=false;\r\n\r\n    //Quitar de la lista contraria los eventos\r\n    this.eventosPropios = []; \r\n\r\n    //Quitar de la lista contraria los libros\r\n    this.librosPropios = [];\r\n\r\n    //Limpiar la propia lista en favoritos\r\n    this.usuariosLibreros = [];\r\n\r\n    //Limite favoritos\r\n    this.limiteFavoritos = 3; \r\n\r\n    //Llamar al servicio para llamar al back para recuperar las librerias favoritas \r\n    await this._usuarioService.mostrarLibreriasFavoritas(this.limiteFavoritos);\r\n    \r\n    //Carga del servicio la lista de favoritos \r\n    this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n}\r\n\r\nguardarFavorito(libreria){\r\n  this._usuarioService.usuarioActual.favoritos.push(libreria);\r\n  this._usuarioService.guadarLibreriaFav(libreria);\r\n}\r\n\r\nborrarFavorito(libreria){\r\n  // obtenemos el indice\r\n  var indice = this._usuarioService.usuarioActual.favoritos.indexOf(libreria);\r\n\r\n  // 1 es la cantidad de elemento a eliminar\r\n  this._usuarioService.usuarioActual.favoritos.splice(indice,1);\r\n\r\n  //borrar la libreria\r\n  this._usuarioService.borrarLibreriaFav(libreria);\r\n}\r\n\r\n//Apuntarse al evento\r\nasync apuntarse(evento:Evento){\r\n  //Contemplar mensaje de apuntarse o mensaje de evento completo\r\n    const index = evento.participantes.findIndex(usuario => usuario === this.usuario);\r\n\r\n    if(index > -1){\r\n      const alert = await this.alertController.create({\r\n        cssClass: 'my-custom-class',\r\n        backdropDismiss: false,\r\n        subHeader: 'Ya est√°s apuntado en este evento',\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n    }else{\r\n      if(evento.participantes.length === 10){\r\n        const alert = await this.alertController.create({\r\n          cssClass: 'my-custom-class',\r\n          backdropDismiss: false,\r\n          subHeader: 'Evento completado',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n      }else{\r\n        const alert = await this.alertController.create({\r\n          cssClass: 'my-custom-class',\r\n          subHeader: '¬°Te has apuntado al evento!',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n\r\n        evento.participantes.push(this.usuario);\r\n    \r\n        const datos = {\r\n          _id: evento._id,\r\n        }\r\n         this._eventoService.apuntarse(datos); \r\n       }\r\n     } \r\n}\r\n\r\n//Desapuntarse del evento\r\nasync desapuntarse(evento:Evento){\r\n   var indice = evento.participantes.indexOf(this.usuario); // obtenemos el indice\r\n    evento.participantes.splice(indice,1); // 1 es la cantidad de elemento a eliminar\r\n    \r\n    const datos = {\r\n      _id: evento._id,\r\n    }\r\n    await this._eventoService.desapuntarse(datos);\r\n\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      backdropDismiss: false,\r\n      subHeader: 'Te has borrado del evento',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n\r\n}\r\n\r\ncompartirLibreria(usuario){                  \r\n   var options = {\r\n    message: 'Mira esta librer√≠a', // not supported on some apps (Facebook, Instagram)\r\n    web: usuario.web\r\n };\r\n    this.socialSharing.shareWithOptions(options);\r\n  }\r\n\r\nasync reservarLibro(libro:Libro){\r\n    const index = libro.participantes.findIndex(usuario => usuario === this.usuario);\r\n\r\n    const alert = await this.alertController.create({\r\n        cssClass: 'my-custom-class',\r\n        subHeader: '¬°Has reservado el libro con √©xito!',\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n\r\n      libro.participantes.push(this.usuario);\r\n    \r\n      const datos = {\r\n        nombreLibro: libro.nombreLibro,\r\n      }\r\n      this._libroService.reservarLibro(datos); \r\n}\r\n\r\nasync quitarReservaLibro(libro:Libro){\r\n  var indice = libro.participantes.indexOf(this.usuario); // obtenemos el indice\r\n    libro.participantes.splice(indice,1); // 1 es la cantidad de elemento a eliminar\r\n    \r\n    const datos = {\r\n      nombreLibro: libro.nombreLibro,\r\n    }\r\n    await this._libroService.quitarReservaLibro(datos);\r\n\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      backdropDismiss: false,\r\n      subHeader: 'Has cancelado la reserva del libro con √©xito',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  \r\nverLibreria(usuario){\r\n  this._usuarioService.libreriaPinchadaCard = usuario;  \r\n  this.router.navigate(['/card-libreria']);\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n"]}