{"version":3,"sources":["webpack:///src/app/pages/perfil/perfil.page.html","webpack:///src/app/pages/perfil/perfil-routing.module.ts","webpack:///src/app/pages/perfil/perfil.module.ts","webpack:///src/app/pages/perfil/perfil.page.scss","webpack:///src/app/pages/perfil/perfil.page.ts"],"names":["routes","path","component","PerfilPageRoutingModule","imports","forChild","exports","PerfilPageModule","declarations","PerfilPage","router","_usuarioService","_eventoService","_libroService","alertController","socialSharing","booleanEventos","booleanLibros","booleanLibrerias","booleanFavoritos","limiteUsuariosLibreros","limitePropio","limiteLibrosPropio","limiteFavoritos","compruebaSiLogado","logado","usuarioActual","navigate","librerias","usuario","nombre","event","numeroVariableAntiguoEvento","eventosPropios","length","getEventos","numeroVariableNuevoEvento","target","disabled","numeroVariableAntiguaLibreria","usuariosLibreros","mostrarLibreria","numeroVariableNuevaLibreria","usuarioLibreria","numeroVariableAntiguoLibro","librosPropios","mostrarLibros","numeroVariableNuevoLibro","numeroVariableAntiguoFavorito","mostrarLibreriasFavoritas","numeroVariableNuevoFavorito","complete","cerrarSesion","navigateByUrl","infiniteScroll","getEventosPorBibliofilo","libreria","favoritos","push","guadarLibreriaFav","indice","indexOf","splice","borrarLibreriaFav","evento","index","participantes","findIndex","create","cssClass","backdropDismiss","subHeader","buttons","alert","present","datos","_id","apuntarse","desapuntarse","options","message","web","shareWithOptions","libro","nombreLibro","reservarLibro","quitarReservaLibro","libreriaPinchadaCard","selector","template"],"mappings":"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","file":"pages-perfil-perfil-module-es5.js","sourcesContent":["export default \"  <ion-toolbar class=\\\"toolbar-color\\\">\\r\\n    <ion-avatar [routerLink]=\\\"'/perfil-bibliofilo'\\\" class=\\\"avatar-profile\\\">\\r\\n      <img src=\\\"../../../assets/profile-w.png\\\">\\r\\n    </ion-avatar>\\r\\n  </ion-toolbar>\\r\\n\\r\\n<ion-content>\\r\\n  <div class=\\\"ion-padding\\\">\\r\\n    <ion-toolbar>\\r\\n      <ion-segment>\\r\\n        <ion-segment-button (click)=\\\"librerias()\\\" value=\\\"a\\\">Librerías</ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"libros()\\\" value=\\\"b\\\">Libros</ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"eventos()\\\" value=\\\"c\\\">Eventos</ion-segment-button>\\r\\n        <ion-segment-button (click)=\\\"fav()\\\" value=\\\"d\\\">Favoritos</ion-segment-button>\\r\\n      </ion-segment>\\r\\n    </ion-toolbar>\\r\\n\\r\\n  <!-- Librerias -->\\r\\n    <ion-card *ngFor=\\\"let usuario of usuariosLibreros\\\">\\r\\n      <div class=\\\"imagen\\\">\\r\\n      <img class=\\\"imagenCard\\\" (click)=\\\"verLibreria(usuario)\\\" src=\\\"../../../assets/libreria.jpg\\\">\\r\\n    </div>\\r\\n      <ion-card-header color=\\\"light\\\" style=\\\"height: 45px;\\\">\\r\\n        <ion-card-title class=\\\"cardStyle\\\"><h4>{{usuario.nombre}}</h4></ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content style=\\\"margin-top: 12px;\\\">\\r\\n        <b>Dirección: </b>{{usuario.direccion}}<br>\\r\\n      </ion-card-content>\\r\\n      <ion-item color=\\\"light\\\">\\r\\n        <ion-button class=\\\"share\\\" (click)=\\\"compartirLibreria(usuario)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n          <ion-icon name=\\\"share\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button *ngIf=\\\"usuarioActual.favoritos.includes(usuario.nombre)\\\" class=\\\"fav\\\" (click)=\\\"borrarFavorito(usuario.nombre)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n         <ion-icon name=\\\"heart-sharp\\\" color=\\\"danger\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button *ngIf=\\\"!usuarioActual.favoritos.includes(usuario.nombre)\\\" class=\\\"fav\\\" (click)=\\\"guardarFavorito(usuario.nombre)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n         <ion-icon name=\\\"heart-outline\\\" color=\\\"danger\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n    </ion-card> \\r\\n\\r\\n    <!-- Libros -->\\r\\n    <ion-card *ngFor=\\\"let libro of librosPropios\\\">\\r\\n      <div class=\\\"imagen\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"libro.imagenLibro\\\"src=\\\"{{libro.imagenLibro}}\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"!libro.imagenLibro\\\" src=\\\"../../../assets/registro-bibliofilo.jpg\\\">\\r\\n    </div>\\r\\n      <ion-card-header color=\\\"light\\\" style=\\\"height: 45px;\\\">\\r\\n        <ion-card-title class=\\\"cardStyle\\\"><h4>{{libro.nombreLibro}}</h4></ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content style=\\\"margin-top: 12px;\\\">\\r\\n        <b>Género: </b>{{libro.genero}}<br>\\r\\n        <b>Autor: </b>{{libro.autor}}<br>\\r\\n        <b>Precio: </b>{{libro.precio}}\\r\\n      </ion-card-content>\\r\\n      <ion-item color=\\\"light\\\">\\r\\n        <ion-button *ngIf=\\\"!libro.participantes.includes(this.usuario)\\\" class=\\\"fav\\\" (click)=\\\"reservarLibro(libro)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n         <ion-icon name=\\\"bag-outline\\\" color=\\\"dark\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n        <ion-button *ngIf=\\\"libro.participantes.includes(this.usuario)\\\" class=\\\"fav\\\" (click)=\\\"quitarReservaLibro(libro)\\\" expand=\\\"block\\\" fill=\\\"clear\\\" shape=\\\"round\\\">\\r\\n        <ion-icon name=\\\"bag-check-outline\\\" color=\\\"dark\\\"></ion-icon>\\r\\n        </ion-button>\\r\\n      </ion-item>\\r\\n    </ion-card>\\r\\n\\r\\n    <!-- Eventos -->\\r\\n    <ion-card *ngFor=\\\"let evento of eventosPropios\\\">\\r\\n      <div class=\\\"imagen\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"evento.imagenEvento\\\" src=\\\"{{evento.imagenEvento}}\\\">\\r\\n        <img class=\\\"imagenCard\\\" *ngIf=\\\"!evento.imagenEvento\\\" src=\\\"../../../assets/evento.jpg\\\">\\r\\n      </div>\\r\\n      <ion-card-header color=\\\"light\\\" style=\\\"height: 45px;\\\">\\r\\n        <ion-card-title class=\\\"cardStyle\\\"><h4>{{evento.nombreEvento}}</h4></ion-card-title>\\r\\n      </ion-card-header>\\r\\n      <ion-card-content style=\\\"margin-top: 12px;\\\">\\r\\n        <b>Ciudad: </b>{{evento.ciudad}}<br>\\r\\n        <b>Direccion: </b>{{evento.direccion}}<br>\\r\\n        <b>Fecha: </b>{{evento.fecha | date: 'dd/MM/yyyy'}}<br>\\r\\n        <b>Hora: </b>{{evento.hora | date: 'HH:mm'}}\\r\\n      </ion-card-content>\\r\\n        <ion-item color=\\\"light\\\">\\r\\n        <ion-button class=\\\"apuntarse\\\" *ngIf=\\\"!evento.participantes.includes(this.usuario)\\\" (click)=\\\"apuntarse(evento)\\\" fill=\\\"outline\\\" slot=\\\"end\\\" expand=\\\"block\\\" [mode]=\\\"'md'\\\">Apuntarse</ion-button>\\r\\n        <ion-button class=\\\"desapuntarse\\\" *ngIf=\\\"evento.participantes.includes(this.usuario)\\\" (click)=\\\"desapuntarse(evento)\\\" fill=\\\"outline\\\" slot=\\\"end\\\" expand=\\\"block\\\" [mode]=\\\"'md'\\\" color=\\\"dark\\\" >Borrarse</ion-button>\\r\\n      </ion-item>\\r\\n    </ion-card>\\r\\n  </div>\\r\\n  <ion-infinite-scroll threshold=\\\"200px\\\" (ionInfinite)=\\\"loadData($event)\\\">\\r\\n    <ion-infinite-scroll-content\\r\\n      loadingSpinner=\\\"circular\\\"\\r\\n      loadingText=\\\"Cargando...\\\">\\r\\n    </ion-infinite-scroll-content>\\r\\n  </ion-infinite-scroll>\\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { PerfilPage } from './perfil.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PerfilPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PerfilPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { PerfilPageRoutingModule } from './perfil-routing.module';\nimport { PerfilPage } from './perfil.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PerfilPageRoutingModule\n  ],\n  declarations: [PerfilPage]\n})\nexport class PerfilPageModule {}\n","export default \".avatar-profile {\\n  position: relative;\\n  left: 285px;\\n  margin-top: 6px;\\n  border: 1px solid #b6dcf3;\\n  width: 60px;\\n  height: 60px;\\n  background-color: #b6dcf3;\\n}\\n\\n.fav, .share {\\n  font-size: 17px;\\n}\\n\\n.fav {\\n  position: absolute;\\n  right: 16px;\\n}\\n\\n.share {\\n  position: absolute;\\n  left: 0;\\n}\\n\\n.cardStyle {\\n  text-align: center;\\n  font-size: 17px;\\n  height: 45px;\\n  margin-top: -22px;\\n}\\n\\n.apuntarse, .desapuntarse {\\n  font-size: 10px;\\n  padding-top: 2.5px;\\n}\\n\\n.imagen {\\n  width: 311px;\\n  height: 205px;\\n}\\n\\n.imagenCard {\\n  width: 100%;\\n  height: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvcGVyZmlsL3BlcmZpbC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EseUJBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLHlCQUFBO0FBQ0o7O0FBQ0E7RUFDSSxlQUFBO0FBRUo7O0FBQUE7RUFDSSxrQkFBQTtFQUNBLFdBQUE7QUFHSjs7QUFEQTtFQUNJLGtCQUFBO0VBQ0EsT0FBQTtBQUlKOztBQUZBO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBS0o7O0FBRkE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7QUFLSjs7QUFIQTtFQUNJLFlBQUE7RUFDQSxhQUFBO0FBTUo7O0FBSkE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtBQU9KIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvcGVyZmlsL3BlcmZpbC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuYXZhdGFyLXByb2ZpbGUge1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgbGVmdDogMjg1cHg7XHJcbiAgICBtYXJnaW4tdG9wOiA2cHg7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjYjZkY2YzO1xyXG4gICAgd2lkdGg6IDYwcHg7XHJcbiAgICBoZWlnaHQ6IDYwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjZkY2YzO1xyXG59XHJcbi5mYXYsIC5zaGFyZSB7XHJcbiAgICBmb250LXNpemU6IDE3cHg7XHJcbn1cclxuLmZhdntcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAxNnB4O1xyXG59XHJcbi5zaGFyZXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIGxlZnQ6IDA7XHJcbn1cclxuLmNhcmRTdHlsZSB7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7IFxyXG4gICAgZm9udC1zaXplOiAxN3B4OyBcclxuICAgIGhlaWdodDogNDVweDsgXHJcbiAgICBtYXJnaW4tdG9wOiAtMjJweDtcclxufVxyXG5cclxuLmFwdW50YXJzZSwgLmRlc2FwdW50YXJzZXtcclxuICAgIGZvbnQtc2l6ZTogMTBweDtcclxuICAgIHBhZGRpbmctdG9wOiAyLjVweDtcclxufVxyXG4uaW1hZ2VuIHtcclxuICAgIHdpZHRoOiAzMTFweDtcclxuICAgIGhlaWdodDogMjA1cHg7XHJcbn1cclxuLmltYWdlbkNhcmQge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbiAgICAiXX0= */\";","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router} from '@angular/router';\r\nimport { Evento } from 'src/app/interfaces/evento';\r\nimport { Libro } from 'src/app/interfaces/libro';\r\nimport { usuarios } from 'src/app/interfaces/usuarios';\r\nimport { UsuarioService } from '../../services/usuario.service';\r\nimport { EventoService } from '../../services/evento.service';\r\nimport { LibroService } from '../../services/libro.service';\r\nimport { AlertController} from '@ionic/angular';\r\nimport { IonInfiniteScroll } from '@ionic/angular';\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\n\r\n@Component({\r\n  selector: 'app-perfil',\r\n  templateUrl: './perfil.page.html',\r\n  styleUrls: ['./perfil.page.scss'],\r\n})\r\nexport class PerfilPage implements OnInit {\r\n  @ViewChild(IonInfiniteScroll) infiniteScroll: IonInfiniteScroll;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private _usuarioService:UsuarioService,\r\n    private _eventoService:EventoService,\r\n    private _libroService:LibroService,\r\n    private alertController: AlertController,\r\n    private socialSharing : SocialSharing,\r\n    \r\n    ) { }\r\n\r\n  public usuario:String;\r\n  public usuarioActual:any;\r\n  public _id:String;\r\n\r\n  //Para saber en que eventos estamos\r\n  booleanEventos : boolean = false;\r\n\r\n  //Para saber en que Libros estamos\r\n  booleanLibros : boolean = false;\r\n\r\n  //Para saber en que Librerias estamos\r\n  booleanLibrerias : boolean = false;\r\n\r\n  //Para saber en que Favoritos estamos\r\n  booleanFavoritos : boolean = false;\r\n\r\n  //lista de eventos propios\r\n  eventosPropios : Evento[]; \r\n\r\n  //lista de libros propios\r\n  librosPropios : Libro[]; \r\n\r\n  //lista de usuarios\r\n  usuariosLibreros : usuarios[]; \r\n\r\n  //limite de usuarios\r\n  limiteUsuariosLibreros : number = 3; \r\n\r\n  //lista de favoritos\r\n  favoritos : usuarios[]; \r\n\r\n  //limite de eventos propios\r\n  limitePropio : number = 3; \r\n\r\n  //limite de libros propios\r\n  limiteLibrosPropio : number = 3; \r\n\r\n  //limite de favoritos\r\n  limiteFavoritos : number = 3; \r\n\r\n  async ngOnInit() {\r\n    \r\n    const logado  = await this._usuarioService.compruebaSiLogado();\r\n    this.usuarioActual = this._usuarioService.usuarioActual;\r\n    if(!logado){\r\n      this.router.navigate(['/inicio']);\r\n      return;\r\n    }\r\n\r\n    //Para que se muestren las librerias al entrar en el perfil, que sea lo primero que se cargue\r\n    this.librerias();\r\n\r\n    //llamar al servicio de usuario\r\n    this.usuario = this._usuarioService.usuarioActual.nombre;\r\n   \r\n  }\r\n  //Infinitte scroll\r\n  async loadData(event){\r\n\r\n      //Tenemos una lista de todos los eventos cargados\r\n      //Tenemos una lista que va a ir cargando los eventos poco a poco - esta es la que se usa\r\n      if(this.booleanEventos){\r\n\r\n        //Limite de eventos propios\r\n        this.limitePropio = this.limitePropio + 3;\r\n\r\n        //Antes de llamar al servicio coger los eventos que tenemos ahora mismo\r\n        const numeroVariableAntiguoEvento = this.eventosPropios.length;\r\n\r\n        //Cargar en la lista propia mis eventos\r\n        await this._eventoService.getEventos(this.limitePropio);\r\n\r\n        //Saber los eventos que tenemos nuevos\r\n        const numeroVariableNuevoEvento = this._eventoService.eventosPropios.length;\r\n\r\n        //Carga del servicio la lista de los eventos\r\n        if(numeroVariableAntiguoEvento == numeroVariableNuevoEvento){\r\n          event.target.disabled = true;\r\n        }else{\r\n          this.eventosPropios = this._eventoService.eventosPropios;\r\n        }        \r\n\r\n      }else if(this.booleanLibrerias){\r\n\r\n        //Limite de usuarios tipo - libreria\r\n        this.limiteUsuariosLibreros = this.limiteUsuariosLibreros + 3;\r\n\r\n        //Antes de llamar al servicio coger las librerias que tenemos ahora mismo\r\n        const numeroVariableAntiguaLibreria = this.usuariosLibreros.length;\r\n\r\n        //Llamar al servicio para llamar al back para recuperar los libros\r\n        await this._usuarioService.mostrarLibreria(this.limiteUsuariosLibreros);\r\n\r\n        //Saber las librerias que tenemos nuevas\r\n        const numeroVariableNuevaLibreria = this._usuarioService.usuarioLibreria.length;\r\n\r\n        //Carga del servicio la lista de las librerias\r\n        if(numeroVariableAntiguaLibreria == numeroVariableNuevaLibreria){\r\n          event.target.disabled = true;\r\n        }else{\r\n          this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n        }   \r\n\r\n      }else if(this.booleanLibros){\r\n\r\n        //Limite de libros\r\n        this.limiteLibrosPropio = this.limiteLibrosPropio+3; \r\n\r\n        //Antes de llamar al servicio coger los libros que tenemos ahora mismo\r\n        const numeroVariableAntiguoLibro = this.librosPropios.length;\r\n\r\n        //Llamar al servicio para llamar al back para recuperar los libros\r\n        await this._libroService.mostrarLibros(this.limiteLibrosPropio);\r\n        \r\n        //Saber los libros que tenemos nuevos\r\n        const numeroVariableNuevoLibro = this._libroService.librosPropios.length;\r\n\r\n        //Carga del servicio la lista de los libros\r\n        if(numeroVariableAntiguoLibro == numeroVariableNuevoLibro){\r\n          event.target.disabled = true;\r\n        }else{\r\n          this.librosPropios = this._libroService.librosPropios;\r\n        }\r\n\r\n      }else if(this.booleanFavoritos){\r\n\r\n        //Limite favoritos\r\n        this.limiteFavoritos = this.limiteFavoritos +3; \r\n\r\n        //Antes de llamar al servicio coger los favoritos que tenemos ahora mismo\r\n        const numeroVariableAntiguoFavorito = this.usuariosLibreros.length;\r\n\r\n        //Llamar al servicio para llamar al back para recuperar las librerias favoritas \r\n        await this._usuarioService.mostrarLibreriasFavoritas(this.limiteFavoritos);\r\n        \r\n        //Saber los favoritos que tenemos nuevos\r\n        const numeroVariableNuevoFavorito = this._usuarioService.usuarioLibreria.length;\r\n\r\n        //Carga del servicio la lista de los favoritos\r\n        if(numeroVariableAntiguoFavorito == numeroVariableNuevoFavorito){\r\n          event.target.disabled = true;\r\n        }else{\r\n          this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n        }\r\n\r\n      }\r\n      //completar la accion de cargar los eventos\r\n      event.target.complete(); \r\n  }\r\n\r\n  cerrarSesion(){\r\n    this._usuarioService.cerrarSesion();\r\n    this.router.navigateByUrl('/inicio');\r\n  }\r\n\r\nasync librerias() {\r\n\r\n   this.infiniteScroll.disabled = false;\r\n\r\n    //Poner a true el boolean de librerias para saber que estamos viendo librerias\r\n    this.booleanLibrerias=true;\r\n    this.booleanFavoritos=false;\r\n    this.booleanEventos=false;\r\n    this.booleanLibros=false;\r\n\r\n    //Quitar de la lista contraria los eventos\r\n    this.eventosPropios = []; \r\n\r\n    //Quitar de la lista contraria los libros\r\n    this.librosPropios = [];\r\n\r\n    //Limpiar la propia lista de librerias\r\n    this.usuariosLibreros = [];\r\n\r\n    //limite de usuarios tipo - libreria\r\n    this.limiteUsuariosLibreros = 3;\r\n\r\n    //llamar al servicio para llamar al back para recuperar los libros\r\n    await this._usuarioService.mostrarLibreria(this.limiteUsuariosLibreros);\r\n    \r\n    //Carga del servicio la lista de usuarios\r\n    this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n}\r\n\r\nasync eventos() {\r\n\r\n    this.infiniteScroll.disabled = false;\r\n\r\n    //Poner a true el boolean de Eventos para saber que estamos viendo Eventos\r\n    this.booleanLibrerias=false;\r\n    this.booleanFavoritos=false;\r\n    this.booleanEventos=true;\r\n    this.booleanLibros=false;\r\n    //Quitar de la lista contraria las librerias\r\n    this.usuariosLibreros = []; \r\n\r\n    //Quitar de la lista contraria los libros\r\n    this.librosPropios = [];\r\n\r\n    //Limite de eventos propios\r\n    this.limitePropio = 3; \r\n    \r\n    //Llamar al servicio para llamar al back para recuperar los eventos\r\n    await this._eventoService.getEventosPorBibliofilo(this.limitePropio);\r\n    \r\n    //Carga del servicio la lista de los eventos\r\n    this.eventosPropios = this._eventoService.eventosPropios;\r\n}\r\n\r\nasync libros() {\r\n    \r\n    this.infiniteScroll.disabled = false;\r\n\r\n    //Poner a true el boolean de Libros para saber que estamos viendo Libros\r\n    this.booleanLibrerias=false;\r\n    this.booleanFavoritos=false;\r\n    this.booleanEventos=false;\r\n    this.booleanLibros=true;\r\n\r\n    //Quitar de la lista contraria los eventos\r\n    this.eventosPropios = []; \r\n\r\n    //Quitar de la lista contraria las librerias\r\n    this.usuariosLibreros = []; \r\n\r\n    //Limite de libros\r\n    this.limiteLibrosPropio = 3; \r\n\r\n    //Llamar al servicio para llamar al back para recuperar los libros\r\n    await this._libroService.mostrarLibros(this.limiteLibrosPropio);\r\n    \r\n    //Carga del servicio la lista de libros\r\n    this.librosPropios = this._libroService.librosPropios;\r\n\r\n}\r\n\r\n//Boton del menu - favoritos\r\nasync fav() {\r\n\r\n    this.infiniteScroll.disabled = false;\r\n\r\n    //Poner a true el boolean de Favoritos para saber que estamos viendo Favoritos\r\n    this.booleanLibrerias=false;\r\n    this.booleanFavoritos=true;\r\n    this.booleanEventos=false;\r\n    this.booleanLibros=false;\r\n\r\n    //Quitar de la lista contraria los eventos\r\n    this.eventosPropios = []; \r\n\r\n    //Quitar de la lista contraria los libros\r\n    this.librosPropios = [];\r\n\r\n    //Limpiar la propia lista en favoritos\r\n    this.usuariosLibreros = [];\r\n\r\n    //Limite favoritos\r\n    this.limiteFavoritos = 3; \r\n\r\n    //Llamar al servicio para llamar al back para recuperar las librerias favoritas \r\n    await this._usuarioService.mostrarLibreriasFavoritas(this.limiteFavoritos);\r\n    \r\n    //Carga del servicio la lista de favoritos \r\n    this.usuariosLibreros = this._usuarioService.usuarioLibreria;\r\n}\r\n\r\nguardarFavorito(libreria){\r\n  this._usuarioService.usuarioActual.favoritos.push(libreria);\r\n  this._usuarioService.guadarLibreriaFav(libreria);\r\n}\r\n\r\nborrarFavorito(libreria){\r\n  // obtenemos el indice\r\n  var indice = this._usuarioService.usuarioActual.favoritos.indexOf(libreria);\r\n\r\n  // 1 es la cantidad de elemento a eliminar\r\n  this._usuarioService.usuarioActual.favoritos.splice(indice,1);\r\n\r\n  //borrar la libreria\r\n  this._usuarioService.borrarLibreriaFav(libreria);\r\n}\r\n\r\n//Apuntarse al evento\r\nasync apuntarse(evento:Evento){\r\n  //Contemplar mensaje de apuntarse o mensaje de evento completo\r\n    const index = evento.participantes.findIndex(usuario => usuario === this.usuario);\r\n\r\n    if(index > -1){\r\n      const alert = await this.alertController.create({\r\n        cssClass: 'my-custom-class',\r\n        backdropDismiss: false,\r\n        subHeader: 'Ya estás apuntado en este evento',\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n    }else{\r\n      if(evento.participantes.length === 10){\r\n        const alert = await this.alertController.create({\r\n          cssClass: 'my-custom-class',\r\n          backdropDismiss: false,\r\n          subHeader: 'Evento completado',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n      }else{\r\n        const alert = await this.alertController.create({\r\n          cssClass: 'my-custom-class',\r\n          subHeader: '¡Te has apuntado al evento!',\r\n          buttons: ['OK']\r\n        });\r\n        await alert.present();\r\n\r\n        evento.participantes.push(this.usuario);\r\n    \r\n        const datos = {\r\n          _id: evento._id,\r\n        }\r\n         this._eventoService.apuntarse(datos); \r\n       }\r\n     } \r\n}\r\n\r\n//Desapuntarse del evento\r\nasync desapuntarse(evento:Evento){\r\n   var indice = evento.participantes.indexOf(this.usuario); // obtenemos el indice\r\n    evento.participantes.splice(indice,1); // 1 es la cantidad de elemento a eliminar\r\n    \r\n    const datos = {\r\n      _id: evento._id,\r\n    }\r\n    await this._eventoService.desapuntarse(datos);\r\n\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      backdropDismiss: false,\r\n      subHeader: 'Te has borrado del evento',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n\r\n}\r\n\r\ncompartirLibreria(usuario){                  \r\n   var options = {\r\n    message: 'Mira esta librería', // not supported on some apps (Facebook, Instagram)\r\n    web: usuario.web\r\n };\r\n    this.socialSharing.shareWithOptions(options);\r\n  }\r\n\r\nasync reservarLibro(libro:Libro){\r\n    const index = libro.participantes.findIndex(usuario => usuario === this.usuario);\r\n\r\n    const alert = await this.alertController.create({\r\n        cssClass: 'my-custom-class',\r\n        subHeader: '¡Has reservado el libro con éxito!',\r\n        buttons: ['OK']\r\n      });\r\n      await alert.present();\r\n\r\n      libro.participantes.push(this.usuario);\r\n    \r\n      const datos = {\r\n        nombreLibro: libro.nombreLibro,\r\n      }\r\n      this._libroService.reservarLibro(datos); \r\n}\r\n\r\nasync quitarReservaLibro(libro:Libro){\r\n  var indice = libro.participantes.indexOf(this.usuario); // obtenemos el indice\r\n    libro.participantes.splice(indice,1); // 1 es la cantidad de elemento a eliminar\r\n    \r\n    const datos = {\r\n      nombreLibro: libro.nombreLibro,\r\n    }\r\n    await this._libroService.quitarReservaLibro(datos);\r\n\r\n    const alert = await this.alertController.create({\r\n      cssClass: 'my-custom-class',\r\n      backdropDismiss: false,\r\n      subHeader: 'Has cancelado la reserva del libro con éxito',\r\n      buttons: ['OK']\r\n    });\r\n    await alert.present();\r\n  }\r\n  \r\nverLibreria(usuario){\r\n  this._usuarioService.libreriaPinchadaCard = usuario;  \r\n  this.router.navigate(['/card-libreria']);\r\n}\r\n\r\n\r\n}\r\n\r\n\r\n"]}